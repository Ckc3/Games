<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scar - Site Unblocker</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://www.google.com/favicon.ico" id="favicon">
    <style>
        .block-puzzle-container {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 15px;
            color: white;
            max-height: 80vh;
            overflow-y: auto;
        }

        .puzzle-game-container {
            max-width: 600px;
            margin: 0 auto;
            text-align: center;
        }

        .puzzle-game-header {
            margin-bottom: 20px;
        }

        .puzzle-game-stats {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .puzzle-stat-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 10px 15px;
            border-radius: 10px;
            min-width: 80px;
        }

        .puzzle-stat-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-bottom: 5px;
        }

        .puzzle-stat-value {
            font-size: 1.5em;
            font-weight: bold;
        }

        .puzzle-game-area {
            display: flex;
            justify-content: center;
            align-items: flex-start;
            gap: 20px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .puzzle-next-piece {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            min-width: 120px;
        }

        .puzzle-next-piece h4 {
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .puzzle-next-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            grid-template-rows: repeat(4, 1fr);
            gap: 2px;
            width: 80px;
            height: 80px;
            margin: 0 auto;
        }

        .puzzle-next-cell {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
        }

        .puzzle-next-cell.filled {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
        }

        .puzzle-game-board {
            width: 300px;
            height: 600px;
            background: rgba(0, 0, 0, 0.3);
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }

        .puzzle-grid {
            display: grid;
            grid-template-columns: repeat(10, 1fr);
            grid-template-rows: repeat(20, 1fr);
            width: 100%;
            height: 100%;
            gap: 1px;
        }

        .puzzle-cell {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.2s ease;
        }

        .puzzle-cell.filled {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: inset 0 0 10px rgba(255, 255, 255, 0.3);
        }

        .puzzle-cell.current {
            background: linear-gradient(45deg, #ffd93d, #ff6b6b);
            border-color: rgba(255, 255, 255, 0.8);
            box-shadow: 0 0 15px rgba(255, 215, 61, 0.6);
        }

        .puzzle-cell.ghost {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
        }

        .puzzle-controls {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .puzzle-control-btn {
            background: linear-gradient(45deg, #667eea, #764ba2);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        .puzzle-control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        .puzzle-control-btn:active {
            transform: translateY(0);
        }

        .puzzle-game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            display: none;
            z-index: 10;
        }

        .puzzle-game-over h2 {
            color: #ff6b6b;
            margin-bottom: 15px;
            font-size: 1.8em;
        }

        .puzzle-game-over p {
            margin-bottom: 20px;
            font-size: 1.1em;
        }

        .puzzle-restart-btn {
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            border: none;
            color: white;
            padding: 12px 25px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 1em;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .puzzle-restart-btn:hover {
            transform: scale(1.05);
        }

        .puzzle-instructions {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            font-size: 0.9em;
            line-height: 1.4;
            max-width: 400px;
            margin: 0 auto;
        }

        @media (max-width: 768px) {
            .puzzle-game-area {
                flex-direction: column;
                align-items: center;
            }
            
            .puzzle-game-board {
                width: 250px;
                height: 500px;
            }
            
            .puzzle-controls {
                gap: 8px;
            }
            
            .puzzle-control-btn {
                padding: 8px 12px;
                font-size: 0.8em;
            }
        }


        html, body { height: 100%; }
        body {
            background: #000 !important;        
            background-image: none !important;  
        }
        body::before { display: none !important; }


        #starfield {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            z-index: 0;
            pointer-events: none;
        }


        .container {
            position: relative;
            z-index: 1;
        }


        #cursor-trail {
            position: fixed;
            inset: 0;
            width: 100vw;
            height: 100vh;
            z-index: 9999;         
            pointer-events: none;  
            mix-blend-mode: normal; 
        }
    </style>
</head>
<body>

    <canvas id="starfield" aria-hidden="true"></canvas>


    <canvas id="cursor-trail" aria-hidden="true"></canvas>

    <div class="container">
        
        <header class="header">
            <div class="logo">
                <h1>Scar</h1>
                <span class="tagline">Site Unblocker</span>
            </div>
            <nav class="nav">
                <button class="nav-btn active" data-tab="games">Games</button>
                <button class="nav-btn" data-tab="apps">Apps</button>
                <button class="nav-btn" data-tab="unblocks">Unblocks</button>
                <button class="nav-btn" data-tab="settings">Settings</button>
            </nav>
        </header>

        
        <div class="game-modal" id="gameModal">
            <div class="game-modal-content">
                <div class="game-modal-header">
                    <h3 id="gameTitle">3D City</h3>
                    <div class="game-controls">
                        <button class="fullscreen-btn" onclick="toggleFullscreen()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                            </svg>
                        </button>
                        <button class="close-btn" onclick="closeGame()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="game-frame-container">
                    <iframe id="gameFrame" src="" frameborder="0" allowfullscreen></iframe>
                </div>
            </div>
        </div>

        
        <div class="game-modal" id="redditModal">
            <div class="game-modal-content">
                <div class="game-modal-header">
                    <h3 id="redditTitle">
                        <img src="https://redditinc.com/hs-fs/hubfs/Reddit%20Inc/Brand/Redditinc_Thumbnail_Brand_Logo.png" alt="Reddit" style="height: 24px; margin-right: 8px; vertical-align: middle;">
                        Reddit
                    </h3>
                    <div class="game-controls">
                        <button class="fullscreen-btn" onclick="toggleRedditFullscreen()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                            </svg>
                        </button>
                        <button class="close-btn" onclick="closeReddit()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="reddit-container">
                    <div class="reddit-search-bar">
                        <select id="search-type">
                            <option value="search">Search Posts</option>
                            <option value="subreddit">Browse Subreddit</option>
                        </select>
                        <input type="text" placeholder="Search Reddit posts..." id="reddit-search-input">
                        <button class="search-btn" onclick="searchReddit()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="11" cy="11" r="8"></circle>
                                <path d="m21 21-4.35-4.35"></path>
                            </svg>
                        </button>
                    </div>
                    <div class="reddit-posts" id="reddit-posts">
                        <div class="reddit-welcome">
                            <h3>Welcome to Reddit</h3>
                            <p>Search for topics or browse subreddits to see posts and discussions</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <div class="game-modal" id="redditPostModal">
            <div class="game-modal-content">
                <div class="game-modal-header">
                    <h3 id="postTitle">Post Details</h3>
                    <div class="game-controls">
                        <button class="fullscreen-btn" onclick="togglePostDetailFullscreen()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                            </svg>
                        </button>
                        <button class="close-btn" onclick="closePostDetail()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="post-detail-container" id="post-detail-container">
                    
                </div>
            </div>
        </div>

        
        <div class="game-modal" id="blockPuzzleModal">
            <div class="game-modal-content">
                <div class="game-modal-header">
                    <h3>Block Puzzle Game</h3>
                    <div class="game-controls">
                        <button class="fullscreen-btn" onclick="toggleBlockPuzzleFullscreen()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"/>
                            </svg>
                        </button>
                        <button class="close-btn" onclick="closeBlockPuzzle()">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                            </svg>
                        </button>
                    </div>
                </div>
                <div class="block-puzzle-container">
                    <div class="puzzle-game-container">
                        <div class="puzzle-game-header">
                            <div class="puzzle-game-stats">
                                <div class="puzzle-stat-item">
                                    <div class="puzzle-stat-label">Score</div>
                                    <div class="puzzle-stat-value" id="puzzleScore">0</div>
                                </div>
                                <div class="puzzle-stat-item">
                                    <div class="puzzle-stat-label">Lines</div>
                                    <div class="puzzle-stat-value" id="puzzleLines">0</div>
                                </div>
                                <div class="puzzle-stat-item">
                                    <div class="puzzle-stat-label">Level</div>
                                    <div class="puzzle-stat-value" id="puzzleLevel">1</div>
                                </div>
                            </div>
                        </div>

                        <div class="puzzle-game-area">
                            <div class="puzzle-next-piece">
                                <h4>Next Piece</h4>
                                <div class="puzzle-next-grid" id="puzzleNextGrid"></div>
                            </div>

                            <div class="puzzle-game-board">
                                <div class="puzzle-grid" id="puzzleGameGrid"></div>
                                <div class="puzzle-game-over" id="puzzleGameOver">
                                    <h2>Game Over!</h2>
                                    <p>Final Score: <span id="puzzleFinalScore">0</span></p>
                                    <button class="puzzle-restart-btn" onclick="restartBlockPuzzle()">Play Again</button>
                                </div>
                            </div>
                        </div>

                        <div class="puzzle-controls">
                            <button class="puzzle-control-btn" onclick="moveBlockLeft()">← Left</button>
                            <button class="puzzle-control-btn" onclick="rotateBlock()">↻ Rotate</button>
                            <button class="puzzle-control-btn" onclick="moveBlockRight()">Right →</button>
                            <button class="puzzle-control-btn" onclick="dropBlock()">↓ Drop</button>
                        </div>

                        <div class="puzzle-instructions">
                            <strong>How to Play:</strong><br>
                            • Use arrow keys or buttons to move pieces<br>
                            • Rotate pieces with up arrow or rotate button<br>
                            • Complete horizontal lines to clear them<br>
                            • Game ends when pieces reach the top
                        </div>
                    </div>
                </div>
            </div>
        </div>

        
        <main class="main-content">
            
            <div class="tab-content active" id="games">
                <div class="section-header">
                    <h2>Games</h2>
                    <p>Access your favorite games</p>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Search games..." id="games-search">
                    <button class="search-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </div>
                <div class="games-grid">
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://img.gamepix.com/games/3d-city/cover/3d-city.png?w=400&ar=16:10" alt="3D City" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>3D City</h3>
                            <p>Explore and build in this immersive 3D city simulation</p>
                            <button class="play-btn" onclick="playGame('3D City', 'https://lo-th.github.io/3d.city/index.html')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://s3.amazonaws.com/production2.sciencegamecenter.org/games/boxarts/000/000/417/medium/TitleArt_SandBoxels.jpeg?1707496550" alt="Sandboxels" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Sandboxels</h3>
                            <p>A fun physics sandbox game where you can experiment with different elements</p>
                            <button class="play-btn" onclick="playGame('Sandboxels', 'https://sandboxels.r74n.com/')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://m.media-amazon.com/images/I/4170y5pRMTL.png" alt="2048" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>2048</h3>
                            <p>Classic number puzzle game - combine tiles to reach 2048</p>
                            <button class="play-btn" onclick="playGame('2048', 'https://2048game.com/')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://m.media-amazon.com/images/M/MV5BMmMwYzZjMzAtN2I3Ny00MTdhLTg1Y2YtNDZiMzhhODY3ZjJjXkEyXkFqcGc@._V1_QL75_UX190_CR0,2,190,281_.jpg" alt="Friday Night Funkin" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Friday Night Funkin</h3>
                            <p>Rhythm game where you battle opponents in musical showdowns</p>
                            <button class="play-btn" onclick="playGame('Friday Night Funkin', 'https://html-classic.itch.zone/html/2876359-1370806/index.html')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://survival-race.io/data/image/options/survival-race-banner.png" alt="Survival Race" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Survival Race</h3>
                            <p>Fast-paced racing game where you compete to survive against other players</p>
                            <button class="play-btn" onclick="playGame('Survival Race', 'https://survival-race.io/game/survival-race/')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRnXXXiGbHDSamp-IdOa5T7FsIGSWEJ6SJ10g&s" alt="Blocky Puzzle" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Blocky Puzzle</h3>
                            <p>Classic block puzzle game - fit the pieces to clear lines and score points</p>
                            <button class="play-btn" onclick="openBlockPuzzle()">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://slope-play.com/cache/data/image/game/slope-logo-1-f309x309.webp" alt="Slope" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Slope</h3>
                            <p>Roll down the slope and avoid obstacles</p>
                            <button class="play-btn" onclick="playGame('Slope', 'https://slope-game.github.io/ramp/')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://assets-prd.ignimgs.com/2021/12/14/minecraft-1639513933156.jpg" alt="Minecraft" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Minecraft</h3>
                            <p>Classic sandbox game where you can build, explore, and survive in blocky worlds</p>
                            <button class="play-btn" onclick="playGame('Minecraft', 'https://maddox.page/basic-ruffle-player/html/minecraft/index.html')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/1229490/capsule_616x353.jpg?t=1740623813" alt="Ultrakill" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Ultrakill</h3>
                            <p>Fast-paced retro FPS with blood-fueled gameplay</p>
                            <button class="play-btn" onclick="playGame('Ultrakill', 'https://maddox.page/basic-ruffle-player/html/ultrakill/index.html')">Play Now</button>
                        </div>
                    </div>
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://game-game.com/gamesimg/257332.jpg" alt="Nova Craft" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Nova Craft</h3>
                            <p>Space exploration and crafting adventure game</p>
                            <button class="play-btn" onclick="playGame('Nova Craft', 'https://duck.quackprep.com/html/nova_craft/')">Play Now</button>
                        </div>
                    </div>

                    <!-- New: Awesome Tanks 2 -->
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://www.coolmathgames.com/sites/default/files/AwesomeTanks2_OG-logo.jpg" alt="Awesome Tanks 2" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Awesome Tanks 2</h3>
                            <p>Upgrade your tank and blast through enemy bases.</p>
                            <button class="play-btn" onclick="playGame('Awesome Tanks 2', 'https://ixl-login-page22.yixianhui.net/game/awesome-tanks-2/index.html')">Play Now</button>
                        </div>
                    </div>

                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://img.itch.zone/aW1hZ2UvMjM4NTMxMS8xODcxOTg0Ny5wbmc=/original/hPzC%2Fc.png" alt="COD Zombies Portable" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>COD Zombies Portable</h3>
                            <p>Survive waves of zombies in this Call of Duty inspired game</p>
                            <button class="play-btn" onclick="playGame('COD Zombies Portable', 'https://maddox.page/basic-ruffle-player/html/cod_zombies_portable/index.html')">Play Now</button>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="tab-content" id="apps">
                <div class="section-header">
                    <h2>Apps</h2>
                    <p>Useful applications and tools</p>
                </div>
                <div class="search-bar">
                    <input type="text" placeholder="Search apps..." id="apps-search">
                    <button class="search-btn">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                    </button>
                </div>
                <div class="games-grid">
                    <div class="card game-card">
                        <div class="game-cover">
                            <img src="https://redditinc.com/hs-fs/hubfs/Reddit%20Inc/Brand/Redditinc_Thumbnail_Brand_Logo.png" alt="Reddit" loading="lazy">
                            <div class="play-overlay">
                                <div class="play-icon">
                                    <svg width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
                                        <path d="M8 5v14l11-7z"/>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <div class="game-info">
                            <h3>Reddit</h3>
                            <p>Browse communities and discussions from the front page of the internet</p>
                            <button class="play-btn" onclick="openRedditClone()">Open</button>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="tab-content" id="unblocks">
                <div class="section-header">
                    <h2>Site Unblocker</h2>
                    <p>Access blocked websites through our proxy service</p>
                </div>
                
                <div class="url-input-container">
                    <input type="text" placeholder="Enter website URL (e.g., youtube.com)" id="url-input">
                    <button class="unblock-btn" onclick="unblockSite()">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M9 12l2 2 4-4"></path>
                            <circle cx="12" cy="12" r="9"></circle>
                        </svg>
                        Unblock
                    </button>
                </div>

                <div class="quick-access">
                    <h3>Quick Access</h3>
                    <div class="games-grid">
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/09/YouTube_full-color_icon_%282017%29.svg/2560px-YouTube_full-color_icon_%282017%29.svg.png" alt="YouTube" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>YouTube</h3>
                                <p>Watch videos, music, and live streams</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://www.youtube.com')">Access</button>
                            </div>
                        </div>
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/6f/Logo_of_Twitter.svg/512px-Logo_of_Twitter.svg.png" alt="Twitter" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>Twitter</h3>
                                <p>Social media and news platform</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://twitter.com')">Access</button>
                            </div>
                        </div>
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Facebook_Logo_%282019%29.png/1024px-Facebook_Logo_%282019%29.png" alt="Facebook" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>Facebook</h3>
                                <p>Connect with friends and family</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://www.facebook.com')">Access</button>
                            </div>
                        </div>
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/a/a5/Instagram_icon.png/2048px-Instagram_icon.png" alt="Instagram" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>Instagram</h3>
                                <p>Photo and video sharing platform</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://www.instagram.com')">Access</button>
                            </div>
                        </div>
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/ca/LinkedIn_logo_initials.png/768px-LinkedIn_logo_initials.png" alt="LinkedIn" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>LinkedIn</h3>
                                <p>Professional networking platform</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://www.linkedin.com')">Access</button>
                            </div>
                        </div>
                        <div class="card">
                            <div class="game-cover">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/6/60/Snapchat_Logo.svg/800px-Snapchat_Logo.svg.png" alt="Snapchat" loading="lazy">
                            </div>
                            <div class="game-info">
                                <h3>Snapchat</h3>
                                <p>Multimedia messaging app</p>
                                <button class="unblock-btn" onclick="openUnblocker('https://web.snapchat.com')">Access</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            
            <div class="tab-content" id="settings">
                <div class="section-header">
                    <h2>Settings</h2>
                    <p>Customize your experience</p>
                </div>
                
                <div class="settings-grid">
                    <div class="setting-card">
                        <h3>Theme</h3>
                        <p>Choose your preferred theme</p>
                        <div class="setting-options">
                            <label class="radio-option">
                                <input type="radio" name="theme" value="dark" checked>
                                <span class="radio-custom"></span>
                                Dark Theme
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="theme" value="light">
                                <span class="radio-custom"></span>
                                Light Theme
                            </label>
                        </div>
                    </div>

                    <div class="setting-card">
                        <h3>Open Mode</h3>
                        <p>How should links open?</p>
                        <div class="setting-options">
                            <label class="radio-option">
                                <input type="radio" name="openMode" value="newTab" checked>
                                <span class="radio-custom"></span>
                                New Tab
                            </label>
                            <label class="radio-option">
                                <input type="radio" name="openMode" value="sameTab">
                                <span class="radio-custom"></span>
                                Same Tab
                            </label>
                        </div>
                    </div>

                    <div class="setting-card">
                        <h3>Privacy</h3>
                        <p>Control your privacy settings</p>
                        <div class="setting-options">
                            <label class="checkbox-option">
                                <input type="checkbox" id="autoProxy" checked>
                                <span class="checkbox-custom"></span>
                                Auto-enable proxy for blocked sites
                            </label>
                            <label class="checkbox-option">
                                <input type="checkbox" id="saveHistory">
                                <span class="checkbox-custom"></span>
                                Save browsing history
                            </label>
                        </div>
                    </div>

                    <div class="setting-card">
                        <h3>Data Management</h3>
                        <p>Manage your stored data</p>
                        <div class="setting-options">
                            <button class="clear-data-btn" onclick="clearData()">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="3,6 5,6 21,6"></polyline>
                                    <path d="m19,6v14a2,2 0 0,1-2,2H7a2,2 0 0,1-2-2V6m3,0V4a2,2 0 0,1,2-2h4a2,2 0 0,1,2,2v2"></path>
                                    <line x1="10" y1="11" x2="10" y2="17"></line>
                                    <line x1="14" y1="11" x2="14" y2="17"></line>
                                </svg>
                                Clear All Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="scirpt.js"></script>
    <script>
        class BlockPuzzleGame {
            constructor() {
                this.grid = Array(20).fill().map(() => Array(10).fill(0));
                this.currentPiece = null;
                this.currentX = 0;
                this.currentY = 0;
                this.nextPiece = null;
                this.score = 0;
                this.lines = 0;
                this.level = 1;
                this.gameRunning = false;
                this.dropTimer = null;
                this.dropInterval = 1000;

                this.pieces = [
                    [
                        [1, 1, 1, 1]
                    ],
                    [
                        [1, 1],
                        [1, 1]
                    ],
                    [
                        [0, 1, 0],
                        [1, 1, 1]
                    ],
                    [
                        [0, 1, 1],
                        [1, 1, 0]
                    ],
                    [
                        [1, 1, 0],
                        [0, 1, 1]
                    ],
                    [
                        [1, 0, 0],
                        [1, 1, 1]
                    ],
                    [
                        [0, 0, 1],
                        [1, 1, 1]
                    ]
                ];
            }

            init() {
                this.createGrid();
                this.createNextGrid();
                this.bindEvents();
                this.spawnPiece();
                this.startGame();
            }

            createGrid() {
                const gameGrid = document.getElementById('puzzleGameGrid');
                gameGrid.innerHTML = '';
                
                for (let row = 0; row < 20; row++) {
                    for (let col = 0; col < 10; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'puzzle-cell';
                        cell.dataset.row = row;
                        cell.dataset.col = col;
                        gameGrid.appendChild(cell);
                    }
                }
            }

            createNextGrid() {
                const nextGrid = document.getElementById('puzzleNextGrid');
                nextGrid.innerHTML = '';
                
                for (let row = 0; row < 4; row++) {
                    for (let col = 0; col < 4; col++) {
                        const cell = document.createElement('div');
                        cell.className = 'puzzle-next-cell';
                        cell.dataset.row = row;
                        cell.dataset.col = col;
                        nextGrid.appendChild(cell);
                    }
                }
            }

            bindEvents() {
                this.keyHandler = (e) => {
                    if (!this.gameRunning) return;
                    
                    switch(e.key) {
                        case 'ArrowLeft':
                            e.preventDefault();
                            this.moveLeft();
                            break;
                        case 'ArrowRight':
                            e.preventDefault();
                            this.moveRight();
                            break;
                        case 'ArrowDown':
                            e.preventDefault();
                            this.moveDown();
                            break;
                        case 'ArrowUp':
                            e.preventDefault();
                            this.rotateClockwise();
                            break;
                        case ' ':
                            e.preventDefault();
                            this.dropPiece();
                            break;
                    }
                };
                
                document.addEventListener('keydown', this.keyHandler);
            }

            unbindEvents() {
                if (this.keyHandler) {
                    document.removeEventListener('keydown', this.keyHandler);
                }
            }

            spawnPiece() {
                if (!this.nextPiece) {
                    this.nextPiece = this.getRandomPiece();
                }
                
                this.currentPiece = this.nextPiece;
                this.nextPiece = this.getRandomPiece();
                this.currentX = Math.floor((10 - this.currentPiece[0].length) / 2);
                this.currentY = 0;

                this.updateNextPieceDisplay();

                if (this.isCollision(this.currentPiece, this.currentX, this.currentY)) {
                    this.gameOver();
                    return;
                }

                this.render();
            }

            getRandomPiece() {
                return this.pieces[Math.floor(Math.random() * this.pieces.length)];
            }

            updateNextPieceDisplay() {
                const nextCells = document.querySelectorAll('.puzzle-next-cell');
                nextCells.forEach(cell => cell.classList.remove('filled'));

                for (let row = 0; row < this.nextPiece.length; row++) {
                    for (let col = 0; col < this.nextPiece[row].length; col++) {
                        if (this.nextPiece[row][col]) {
                            const cell = document.querySelector(`.puzzle-next-cell[data-row="${row}"][data-col="${col}"]`);
                            if (cell) cell.classList.add('filled');
                        }
                    }
                }
            }

            isCollision(piece, x, y) {
                for (let row = 0; row < piece.length; row++) {
                    for (let col = 0; col < piece[row].length; col++) {
                        if (piece[row][col]) {
                            const newX = x + col;
                            const newY = y + row;
                            
                            if (newX < 0 || newX >= 10 || newY >= 20) {
                                return true;
                            }
                            
                            if (newY >= 0 && this.grid[newY][newX]) {
                                return true;
                            }
                        }
                    }
                }
                return false;
            }

            moveLeft() {
                if (!this.isCollision(this.currentPiece, this.currentX - 1, this.currentY)) {
                    this.currentX--;
                    this.render();
                }
            }

            moveRight() {
                if (!this.isCollision(this.currentPiece, this.currentX + 1, this.currentY)) {
                    this.currentX++;
                    this.render();
                }
            }

            moveDown() {
                if (!this.isCollision(this.currentPiece, this.currentX, this.currentY + 1)) {
                    this.currentY++;
                    this.render();
                    return true;
                } else {
                    this.placePiece();
                    return false;
                }
            }

            dropPiece() {
                while (this.moveDown()) {
                    // keep dropping
                }
            }

            rotateClockwise() {
                const rotated = this.rotatePiece(this.currentPiece);
                if (!this.isCollision(rotated, this.currentX, this.currentY)) {
                    this.currentPiece = rotated;
                    this.render();
                }
            }

            rotatePiece(piece) {
                const rows = piece.length;
                const cols = piece[0].length;
                const rotated = Array(cols).fill().map(() => Array(rows).fill(0));
                
                for (let row = 0; row < rows; row++) {
                    for (let col = 0; col < cols; col++) {
                        rotated[col][rows - 1 - row] = piece[row][col];
                    }
                }
                
                return rotated;
            }

            placePiece() {
                for (let row = 0; row < this.currentPiece.length; row++) {
                    for (let col = 0; col < this.currentPiece[row].length; col++) {
                        if (this.currentPiece[row][col]) {
                            const gridY = this.currentY + row;
                            const gridX = this.currentX + col;
                            if (gridY >= 0) {
                                this.grid[gridY][gridX] = 1;
                            }
                        }
                    }
                }

                this.clearLines();
                this.spawnPiece();
            }

            clearLines() {
                let linesCleared = 0;
                
                for (let row = 19; row >= 0; row--) {
                    if (this.grid[row].every(cell => cell === 1)) {
                        this.grid.splice(row, 1);
                        this.grid.unshift(Array(10).fill(0));
                        linesCleared++;
                        row++; 
                    }
                }

                if (linesCleared > 0) {
                    this.lines += linesCleared;
                    this.score += linesCleared * 100 * this.level;
                    this.level = Math.floor(this.lines / 10) + 1;
                    this.dropInterval = Math.max(100, 1000 - (this.level - 1) * 100);
                    
                    this.updateStats();
                    this.resetDropTimer();
                }
            }

            updateStats() {
                document.getElementById('puzzleScore').textContent = this.score;
                document.getElementById('puzzleLines').textContent = this.lines;
                document.getElementById('puzzleLevel').textContent = this.level;
            }

            render() {

                const cells = document.querySelectorAll('.puzzle-cell');
                cells.forEach(cell => {
                    cell.classList.remove('filled', 'current', 'ghost');
                });


                for (let row = 0; row < 20; row++) {
                    for (let col = 0; col < 10; col++) {
                        if (this.grid[row][col]) {
                            const cell = document.querySelector(`.puzzle-cell[data-row="${row}"][data-col="${col}"]`);
                            if (cell) cell.classList.add('filled');
                        }
                    }
                }


                if (this.currentPiece) {

                    let ghostY = this.currentY;
                    while (!this.isCollision(this.currentPiece, this.currentX, ghostY + 1)) {
                        ghostY++;
                    }
                    for (let row = 0; row < this.currentPiece.length; row++) {
                        for (let col = 0; col < this.currentPiece[row].length; col++) {
                            if (this.currentPiece[row][col]) {
                                const ghostCell = document.querySelector(`.puzzle-cell[data-row="${ghostY + row}"][data-col="${this.currentX + col}"]`);
                                if (ghostCell) ghostCell.classList.add('ghost');
                            }
                        }
                    }


                    for (let row = 0; row < this.currentPiece.length; row++) {
                        for (let col = 0; col < this.currentPiece[row].length; col++) {
                            if (this.currentPiece[row][col]) {
                                const cell = document.querySelector(`.puzzle-cell[data-row="${this.currentY + row}"][data-col="${this.currentX + col}"]`);
                                if (cell) cell.classList.add('current');
                            }
                        }
                    }
                }
            }

            startGame() {
                this.gameRunning = true;
                this.updateStats();
                this.resetDropTimer();
            }

            resetDropTimer() {
                if (this.dropTimer) {
                    clearInterval(this.dropTimer);
                }
                this.dropTimer = setInterval(() => {
                    if (this.gameRunning) {
                        this.moveDown();
                    }
                }, this.dropInterval);
            }

            gameOver() {
                this.gameRunning = false;
                if (this.dropTimer) {
                    clearInterval(this.dropTimer);
                }
                
                document.getElementById('puzzleFinalScore').textContent = this.score;
                document.getElementById('puzzleGameOver').style.display = 'block';
            }

            restart() {
                this.grid = Array(20).fill().map(() => Array(10).fill(0));
                this.currentPiece = null;
                this.nextPiece = null;
                this.currentX = 0;
                this.currentY = 0;
                this.score = 0;
                this.lines = 0;
                this.level = 1;
                this.dropInterval = 1000;
                
                document.getElementById('puzzleGameOver').style.display = 'none';
                this.updateStats();
                this.spawnPiece();
                this.startGame();
            }

            destroy() {
                this.gameRunning = false;
                if (this.dropTimer) {
                    clearInterval(this.dropTimer);
                }
                this.unbindEvents();
            }
        }

        let blockPuzzleGame = null;

        function openBlockPuzzle() {
            const modal = document.getElementById('blockPuzzleModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
            
            if (blockPuzzleGame) {
                blockPuzzleGame.destroy();
            }
            blockPuzzleGame = new BlockPuzzleGame();
            blockPuzzleGame.init();
        }

        function closeBlockPuzzle() {
            const modal = document.getElementById('blockPuzzleModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
            
            if (blockPuzzleGame) {
                blockPuzzleGame.destroy();
                blockPuzzleGame = null;
            }
        }

        function toggleBlockPuzzleFullscreen() {
            const modal = document.getElementById('blockPuzzleModal');
            
            if (!document.fullscreenElement) {
                modal.requestFullscreen().catch(err => {
                    console.log('Error attempting to enable fullscreen:', err);
                });
            } else {
                document.exitFullscreen();
            }
        }

        function moveBlockLeft() {
            if (blockPuzzleGame) blockPuzzleGame.moveLeft();
        }

        function moveBlockRight() {
            if (blockPuzzleGame) blockPuzzleGame.moveRight();
        }

        function rotateBlock() {
            if (blockPuzzleGame) blockPuzzleGame.rotateClockwise();
        }

        function dropBlock() {
            if (blockPuzzleGame) blockPuzzleGame.dropPiece();
        }

        function restartBlockPuzzle() {
            if (blockPuzzleGame) blockPuzzleGame.restart();
        }

        document.getElementById('blockPuzzleModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeBlockPuzzle();
            }
        });

        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && document.getElementById('blockPuzzleModal').classList.contains('active')) {
                closeBlockPuzzle();
            }
        });
    </script>


<script>

(function () {
          function initStarfield() {
            const canvas = document.getElementById('starfield');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');

            let width, height, stars, starCount;

            function resize() {
              width = canvas.width = window.innerWidth;
              height = canvas.height = window.innerHeight;

              starCount = Math.min(220, Math.floor((width * height) / 12000));
              stars = Array.from({ length: starCount }, createStar);
            }

            function createStar() {
              const angle = Math.random() * Math.PI * 2;
              const speed = 0.05 + Math.random() * 0.15; 
              return {
                x: Math.random() * width,
                y: Math.random() * height,
                vx: Math.cos(angle) * speed,
                vy: Math.sin(angle) * speed,
                r: 0.5 + Math.random() * 1.2,         
                alpha: 0.6 + Math.random() * 0.4       
              };
            }

            function drawStar(s) {

                const glowRadius = s.r * 4;
              const grad = ctx.createRadialGradient(s.x, s.y, 0, s.x, s.y, glowRadius);
              grad.addColorStop(0, `rgba(255, 255, 255, ${s.alpha})`);
              grad.addColorStop(1, 'rgba(255, 255, 255, 0)');
              ctx.fillStyle = grad;
              ctx.beginPath();
              ctx.arc(s.x, s.y, glowRadius, 0, Math.PI * 2);
              ctx.fill();
            }

            function step() {

                ctx.clearRect(0, 0, width, height);
              ctx.fillStyle = '#000';
              ctx.fillRect(0, 0, width, height);

              for (const s of stars) {
                s.x += s.vx;
                s.y += s.vy;


                if (s.x < -5) s.x = width + 5;
                if (s.x > width + 5) s.x = -5;
                if (s.y < -5) s.y = height + 5;
                if (s.y > height + 5) s.y = -5;

                drawStar(s);
              }

              requestAnimationFrame(step);
            }

            resize();
            window.addEventListener('resize', resize);
            requestAnimationFrame(step);
          }

          if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initStarfield);
          } else {
            initStarfield();
          }
        })();
    </script>
<script>

(() => {
  const canvas = document.getElementById('cursor-trail');
  if (!canvas) return;
  const ctx = canvas.getContext('2d', { alpha: true });

  let width = 0, height = 0, dpr = 1;
  function resize() {
   dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
   width = window.innerWidth;
   height = window.innerHeight;
   canvas.width = Math.floor(width * dpr);
   canvas.height = Math.floor(height * dpr);
   canvas.style.width = width + 'px';
   canvas.style.height = height + 'px';
   ctx.setTransform(dpr, 0, 0, dpr, 0, 0); 
  }

  const reduceMotion = window.matchMedia('(prefers-reduced-motion: reduce)');
  let enabled = !reduceMotion.matches;
  reduceMotion.addEventListener?.('change', (e) => {
   enabled = !e.matches;
   if (!enabled) points.length = 0;
  });

  resize();
  window.addEventListener('resize', resize);

  const points = []; 
  let last = null;

  function addPoint(x, y) {
   const now = performance.now();
   if (last) {
    const dx = x - last.x;
    const dy = y - last.y;
    const dist = Math.hypot(dx, dy);
    const steps = Math.min(10, Math.max(1, Math.floor(dist / 3))); 
    for (let i = 1; i <= steps; i++) {
     const t = i / steps;
     points.push({ x: last.x + dx * t, y: last.y + dy * t, time: now });
    }
   } else {
    points.push({ x, y, time: now });
   }
   last = { x, y, time: now };
  }

  window.addEventListener('pointermove', (e) => {
   if (!enabled) return;
   addPoint(e.clientX, e.clientY);
  }, { passive: true });

  const maxAge = 450;   
  const baseWidth = 8;  
  const glow = 4;       

  function render() {
   requestAnimationFrame(render);
   if (!enabled) { ctx.clearRect(0, 0, width, height); return; }

   const now = performance.now();

   while (points.length && (now - points[0].time) > maxAge) points.shift();

   ctx.clearRect(0, 0, width, height);
   if (points.length < 2) return;


   let totalLen = 0;
   for (let i = 1; i < points.length; i++) {
    const p0 = points[i - 1], p1 = points[i];
    totalLen += Math.hypot(p1.x - p0.x, p1.y - p0.y);
   }
   if (totalLen <= 0.0001) return;

   ctx.lineCap = 'round';
   ctx.lineJoin = 'round';
   ctx.shadowColor = 'rgba(255,255,255,0.6)';
   ctx.shadowBlur = glow;

   let accLen = 0;
   for (let i = 1; i < points.length; i++) {
    const p0 = points[i - 1], p1 = points[i];
    const segLen = Math.hypot(p1.x - p0.x, p1.y - p0.y);
    accLen += segLen;

    const age = (now - p1.time) / maxAge;                  
    const ageFactor = Math.max(0, 1 - age);                
    const lengthFactor = Math.pow(1 - accLen / totalLen, 0.9); 
    const alpha = Math.max(0, Math.min(1, ageFactor * lengthFactor));
    if (alpha <= 0.02 || segLen === 0) continue;

    const speedFactor = Math.min(1.5, 0.5 + segLen / 12);  
    ctx.strokeStyle = `rgba(255,255,255,${0.15 + 0.85 * alpha})`;
    ctx.lineWidth = Math.max(1.2, baseWidth * speedFactor * (0.6 + 0.4 * alpha));

    ctx.beginPath();
    ctx.moveTo(p0.x, p0.y);
    ctx.lineTo(p1.x, p1.y);
    ctx.stroke();
   }
  }

  render();
 })();
</script>
</body>
</html>
