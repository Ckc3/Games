<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Unblock</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="particles"></div>

    <header>
        <h1>Unblock</h1>
        <input type="text" id="search" placeholder="Search games...">
    </header>

    <nav>
        <button class="tab active" data-tab="games">Games</button>
    </nav>


    <p id="game-count" style="text-align:center; margin-top:10px; opacity:0.8; color:#ccc;"></p>

    <main id="content">

    </main>

    <div id="game-container" class="hidden">
        <button id="close-game">Close</button>
        <iframe id="game-iframe" src="" allowfullscreen></iframe>
    </div>


    <script src="games.js"></script>

    <script>
        const content = document.getElementById("content");
        const searchInput = document.getElementById("search");
        const counter = document.getElementById("game-count");


        function displayGames(list) {
            content.innerHTML = "";

            list.forEach(game => {
                const card = document.createElement("div");
                card.classList.add("game-card");
                card.innerHTML = `
                    <img src="${game.gameroot}" alt="${game.name}">
                    <h2>${game.name}</h2>
                    <button class="play-btn" data-link="${game.linksrc}">Play</button>
                    <button class="fullscreen-btn" data-link="${game.linksrc}">Fullscreen</button>
                `;
                content.appendChild(card);
            });


            counter.textContent = ` 1,680 Game Available`;
        }


        if (typeof games !== "undefined") {
            displayGames(games);
        } else {
            console.error("⚠️ games.js failed to load or 'games' variable not found.");
        }


        searchInput.addEventListener("input", e => {
            const term = e.target.value.toLowerCase();
            const filtered = games.filter(g => g.name.toLowerCase().includes(term));
            displayGames(filtered);
        });


        document.addEventListener("click", e => {
            const container = document.getElementById("game-container");
            const iframe = document.getElementById("game-iframe");

            if (e.target.classList.contains("play-btn") || e.target.classList.contains("fullscreen-btn")) {
                const link = e.target.getAttribute("data-link");
                iframe.src = link;
                container.classList.remove("hidden");
            }

            if (e.target.id === "close-game") {
                iframe.src = "";
                container.classList.add("hidden");
            }
        });
    </script>


<script src="scirpt.js"></script>
</body>
</html>
